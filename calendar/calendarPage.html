<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<link href="../default.css" rel="stylesheet" type="text/css" media="screen" />


<meta charset='utf-8' />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
<script src='js/moment.min.js'></script>
<link href='css/fullcalendar.css' rel='stylesheet' />
<script src='js/fullcalendar.js'></script>
<script src='js/bootstrap.js'></script>




<link rel="icon" href="../images/favicon.ico"/>
<title>Calendar</title>

<!------------------------------------------------------CALENDAR START---------------------------------------->
<script>

	$(document).ready(function() {

		$('#calendar').fullCalendar({
			//editable: true;
			header: 
			{
				left:'prev, next today',
				center:'title',
				right: 'month,agendaWeek,agendaDay'
			},
			selectable: true,
			selectHelper: true,
			defaultView: 'agendaWeek',

			/*events: 
			[
		        {
		            title: 'Work out',
		            start: '2015-03-29T08:30:00',
		            end: '2015-03-29T09:30:00'
		        },
		        {
		            title: 'Gon get me some shoes',
		            start: '2015-03-29T14:30:00',
		            end: '2015-03-29T15:30:00'
		        },
		        {
		            title: 'Meeting with Tom',
		            start: '2015-03-26T10:30:00',
		            end: '2015-03-26T12:30:00'
		        }
    		],*/

			events: 
			{
				url:'events.php',
				error: function()
				{
					alert('There was an error loading.');
				}
			},
			
			eventRender: function(event, element, view) 
			{
				if (event.allDay === 'true') 
				{
					event.allDay = true;
				} else 
					{
						event.allDay = false;
					}
		   },
			
			select: function(start, end) 
			{
				var startTime = start.toISOString();
        		var endTime = end.toISOString();
        		$('#start').attr("value",startTime);
        		$('#end').attr("value",endTime);
				$('#calendarModal').modal('toggle');
				//$('#calendar').fullCalendar('unselect');
			},

			eventClick: function(calEvent, jsEvent, view)
			{
				
				
				//alert('Event: ' + calEvent.title);
        		//alert('Start: ' + calEvent.start);
        		//alert('View: ' + view.name);
        		var title = calEvent.title;
        		var startTime = calEvent.start.toString();
        		var endTime = calEvent.end.toString();
        		var id = calEvent.id;
        		document.getElementById("titleDiv").innerHTML = "Title: " + title;
        		document.getElementById("startDiv").innerHTML = "Start: " + startTime;
        		document.getElementById("endDiv").innerHTML = "End: " + endTime;
        		$('#eventid').attr("value",id);
        		$('#infoModal').modal('toggle');
        		return false;
			}


		});
		
	});

</script>
<!-----------------------------------------------------CALENDAR END -------------------------------------------->

</head>
<body>
<!-- start header -->
<div id="header">
<img src="../images/WMT.png" alt="Smiley face"></img>
<!-- end header -->
</div>



<!-- start page -->

<!-- -----------------------------------------------------NAV START--------------------------------------------------- -->
<nav class="navbar navbar-inverse">
  <div class="navbar-header">
    <a class="navbar-brand" href="../index.html">Wealth Management Tool</a>
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li class="active"><a href="index.html">Home</a></li>
      <li><a href="../Clients.php">Clients</a></li>
      <li><a href="../StockMarket.html">Stock Market</a></li>
    </ul>
   <ul class="nav navbar-nav navbar-right">
        <li><a href="../Login.html">Log out</a></li>
   </ul>
  </div>
</nav>


<!-- -----------------------------------------------------NAV END-------------------------------------------- -->

<style>

	#calendarBody {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#calendar {
		max-width: 80%;
		margin: 0 auto;
	}

</style>
<div class="container" style="overflow-x:hidden">

	<!-- ------------------------------------------------SEARCH BAR-------------------------------- -->
	<div class="row">
		<div class="col-sm-3 col-md-3 pull-left">
		    <form class="navbar-form navbar-left" role="search">
			    <div class="form-group">
			        <input type="text" class="form-control" name="dateSearch" placeholder="Search">
			    </div>
			    <button type="submit" class="btn btn-default">
			    	<span class="glyphicon glyphicon-search"></span>
			    </button>
			</form>
		</div>
	</div>
	<!-- -------------------------------------------------END OF SEARCH BAR--------------------------- -->

	<div id="calendarBody">
		<div id='calendar'></div>
	</div>
</div>



<div id="footer">
	<p class="links"> <a href="http://validator.w3.org/check/referer" class="xhtml" title="This page validates as XHTML">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> &nbsp;&bull;&nbsp; <a href="http://jigsaw.w3.org/css-validator/check/referer" class="css" title="This page validates as CSS">Valid <abbr title="Cascading Style Sheets">CSS</abbr></a> </p>
</div>

<!-- ----------------------------------------------------Calendar Modal------------------------------ -->
<div id="calendarModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content" style="font-family:Arial">
    	<div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title"><b>Please enter your details</b></h4>
      	</div>
      <div class="modal-body">
		  <form role="form" action="add_events.php" method="post">
		    <div class="form-group">
		      	<label for="title">Title:</label>
		      	<input class="form-control" id="title" name="title" placeholder="Title" required>
		    </div>
		    <div>
		    	<label for="title">Url:</label>
		      	<input class="form-control" id="url" name="url" placeholder="url">
		    </div>
		    <div>
				<label for="Client">Client:</label>
				<input class="form-control" id="client" name="client" placeholder="Client">
		    </div>
				<input type="hidden" id="start" name="start">
				<input type="hidden" id="end" name="end">
				<input type="hidden" id="fa" name="fa">
		    <div class="form-group">
		      	<label for="notes">Additonal Notes:</label>
		      	<textarea class="form-control" id="notes" name="notes" placeholder="Note"></textarea>
		    </div>
		    <button type="submit" class="btn btn-default">Submit</button>
		  </form>
      </div>
    </div>
  </div>
</div>
<!-- -----------------------------------------------End of Calendar Modal---------------------------- -->

<!-- ----------------------------------------------------Info Modal------------------------------ -->
<div id="infoModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content" style="font-family:Arial">
    	<div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title"><b>Event Information</b></h4>
      	</div>
      <div class="modal-body">
		<div id="titleDiv"></div>
		<div id="startDiv"></div>
		<div id="endDiv"></div>
		</br>
		<form role="form" action="remove_events.php" method="post">
			<div class="form-group">
			<input type="hidden" id="eventid" name="eventid">
			<button type="submit" id="myButton" class="btn btn-primary" >
			Delete Event
			</button>
			</div>
		</form>
		
		<script>
		//$('#myButton').on('click',function(){
			//$.load('remove_events')
		</script>
		
	  </div>
    </div>
  </div>
</div>
<!-- -----------------------------------------------End of Info Modal---------------------------- -->

<!-- end footer -->
</body>
</html>
